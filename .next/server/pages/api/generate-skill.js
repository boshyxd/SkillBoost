"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/generate-skill";
exports.ids = ["pages/api/generate-skill"];
exports.modules = {

/***/ "firebase-admin":
/*!*********************************!*\
  !*** external "firebase-admin" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("firebase-admin");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "@anthropic-ai/sdk":
/*!************************************!*\
  !*** external "@anthropic-ai/sdk" ***!
  \************************************/
/***/ ((module) => {

module.exports = import("@anthropic-ai/sdk");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate-skill&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate-skill.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate-skill&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate-skill.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_generate_skill_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\generate-skill.js */ \"(api)/./pages/api/generate-skill.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_generate_skill_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_generate_skill_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_generate_skill_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_generate_skill_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/generate-skill\",\n        pathname: \"/api/generate-skill\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_generate_skill_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdlbmVyYXRlLXNraWxsJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNnZW5lcmF0ZS1za2lsbC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUM0RDtBQUM1RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMseURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHlEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8/ZWE2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGdlbmVyYXRlLXNraWxsLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZ2VuZXJhdGUtc2tpbGxcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9nZW5lcmF0ZS1za2lsbFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate-skill&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate-skill.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/firebase-admin.js":
/*!*******************************!*\
  !*** ./lib/firebase-admin.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin */ \"firebase-admin\");\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(firebase_admin__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!(firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().apps).length) {\n    try {\n        firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().initializeApp({\n            credential: firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().credential.cert({\n                projectId: process.env.FIREBASE_PROJECT_ID,\n                clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n                privateKey: process.env.FIREBASE_PRIVATE_KEY.replace(/\\\\n/g, \"\\n\")\n            })\n        });\n        console.log(\"Firebase Admin SDK initialized successfully\");\n    } catch (error) {\n        console.error(\"Firebase admin initialization error\", error);\n    }\n}\nconst db = firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().firestore();\nconst auth = firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().auth();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZmlyZWJhc2UtYWRtaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtQztBQUVuQyxJQUFJLENBQUNBLDREQUFVLENBQUNFLE1BQU0sRUFBRTtJQUN0QixJQUFJO1FBQ0ZGLG1FQUFtQixDQUFDO1lBQ2xCSSxZQUFZSixnRUFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO2dCQUNoQ0MsV0FBV0MsUUFBUUMsR0FBRyxDQUFDQyxtQkFBbUI7Z0JBQzFDQyxhQUFhSCxRQUFRQyxHQUFHLENBQUNHLHFCQUFxQjtnQkFDOUNDLFlBQVlMLFFBQVFDLEdBQUcsQ0FBQ0ssb0JBQW9CLENBQUNDLE9BQU8sQ0FBQyxRQUFRO1lBQy9EO1FBQ0Y7UUFDQUMsUUFBUUMsR0FBRyxDQUFDO0lBQ2QsRUFBRSxPQUFPQyxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyx1Q0FBdUNBO0lBQ3ZEO0FBQ0Y7QUFFTyxNQUFNQyxLQUFLbEIsK0RBQWUsR0FBRztBQUM3QixNQUFNb0IsT0FBT3BCLDBEQUFVLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZmlyZWJhc2UtYWRtaW4uanM/MzgzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYWRtaW4gZnJvbSAnZmlyZWJhc2UtYWRtaW4nO1xuXG5pZiAoIWFkbWluLmFwcHMubGVuZ3RoKSB7XG4gIHRyeSB7XG4gICAgYWRtaW4uaW5pdGlhbGl6ZUFwcCh7XG4gICAgICBjcmVkZW50aWFsOiBhZG1pbi5jcmVkZW50aWFsLmNlcnQoe1xuICAgICAgICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQsXG4gICAgICAgIGNsaWVudEVtYWlsOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9DTElFTlRfRU1BSUwsXG4gICAgICAgIHByaXZhdGVLZXk6IHByb2Nlc3MuZW52LkZJUkVCQVNFX1BSSVZBVEVfS0VZLnJlcGxhY2UoL1xcXFxuL2csICdcXG4nKSxcbiAgICAgIH0pLFxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCdGaXJlYmFzZSBBZG1pbiBTREsgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmlyZWJhc2UgYWRtaW4gaW5pdGlhbGl6YXRpb24gZXJyb3InLCBlcnJvcik7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRiID0gYWRtaW4uZmlyZXN0b3JlKCk7XG5leHBvcnQgY29uc3QgYXV0aCA9IGFkbWluLmF1dGgoKTsiXSwibmFtZXMiOlsiYWRtaW4iLCJhcHBzIiwibGVuZ3RoIiwiaW5pdGlhbGl6ZUFwcCIsImNyZWRlbnRpYWwiLCJjZXJ0IiwicHJvamVjdElkIiwicHJvY2VzcyIsImVudiIsIkZJUkVCQVNFX1BST0pFQ1RfSUQiLCJjbGllbnRFbWFpbCIsIkZJUkVCQVNFX0NMSUVOVF9FTUFJTCIsInByaXZhdGVLZXkiLCJGSVJFQkFTRV9QUklWQVRFX0tFWSIsInJlcGxhY2UiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJkYiIsImZpcmVzdG9yZSIsImF1dGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/firebase-admin.js\n");

/***/ }),

/***/ "(api)/./pages/api/generate-skill.js":
/*!*************************************!*\
  !*** ./pages/api/generate-skill.js ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @anthropic-ai/sdk */ \"@anthropic-ai/sdk\");\n/* harmony import */ var _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/firebase-admin */ \"(api)/./lib/firebase-admin.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_0__]);\n_anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst anthropic = new _anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_0__.Anthropic({\n    apiKey: process.env.ANTHROPIC_API_KEY\n});\nconst MAX_CONTENT_LENGTH = 100000; // Adjust this value as needed\nfunction cleanAndValidateJSON(str) {\n    // Remove any non-printable characters\n    str = str.replace(/[\\x00-\\x1F\\x7F-\\x9F]/g, \"\");\n    // Remove any text before the first '{' and after the last '}'\n    str = str.substring(str.indexOf(\"{\"), str.lastIndexOf(\"}\") + 1);\n    // Attempt to parse and stringify to ensure valid JSON\n    try {\n        return JSON.stringify(JSON.parse(str));\n    } catch (error) {\n        console.error(\"Error parsing cleaned JSON:\", error);\n        return null;\n    }\n}\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    const { skillName, description } = req.body;\n    if (!skillName) {\n        return res.status(400).json({\n            message: \"Skill name is required\"\n        });\n    }\n    try {\n        // Generate a URL-friendly ID from the skill name\n        const skillId = skillName.toLowerCase().replace(/\\s+/g, \"-\");\n        // Check if the skill already exists\n        const existingSkill = await _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.db.collection(\"generatedSkills\").doc(skillId).get();\n        if (existingSkill.exists) {\n            // If the skill exists, return the existing data\n            return res.status(200).json({\n                id: skillId,\n                ...existingSkill.data()\n            });\n        }\n        // If the skill doesn't exist, generate new content\n        const message = await anthropic.messages.create({\n            model: \"claude-3-haiku-20240307\",\n            max_tokens: 4000,\n            temperature: 0.7,\n            messages: [\n                {\n                    role: \"user\",\n                    content: `Generate a comprehensive skill page overview and 3 lessons for the skill \"${skillName}\". Use this description as a starting point: \"${description}\".\r\n\r\nThe response should be a valid JSON object with the following structure:\r\n\r\n{\r\n  \"skillPage\": {\r\n    \"title\": \"string\",\r\n    \"description\": \"string\",\r\n    \"learningObjectives\": [\"string\", \"string\", ...],\r\n    \"importance\": \"string\",\r\n    \"applications\": [\"string\", \"string\", ...],\r\n    \"prerequisites\": \"string\",\r\n    \"estimatedTime\": \"string\"\r\n  },\r\n  \"lessons\": [\r\n    {\r\n      \"title\": \"string\",\r\n      \"content\": \"string (HTML format)\",\r\n      \"keyTakeaways\": [\"string\", \"string\", ...],\r\n      \"task\": {\r\n        \"description\": \"string\",\r\n        \"steps\": [\"string\", \"string\", ...],\r\n        \"tips\": [\"string\", \"string\", ...]\r\n      }\r\n    },\r\n    // ... (2 more lesson objects)\r\n  ]\r\n}\r\n\r\nFor each lesson, provide engaging content that builds upon the previous lessons. The task should be practical and help reinforce the lesson's concepts. Use prompt engineering techniques to make the lessons and tasks more effective for learning.\r\n\r\nEnsure that the response is a valid JSON object without any additional text or formatting.`\n                }\n            ]\n        });\n        let rawContent = message.content[0].text;\n        // Clean and validate the JSON\n        const cleanedContent = cleanAndValidateJSON(rawContent);\n        if (!cleanedContent) {\n            console.error(\"Failed to clean and validate JSON\");\n            console.error(\"Raw AI response:\", rawContent);\n            return res.status(500).json({\n                message: \"Invalid AI response structure\"\n            });\n        }\n        let generatedContent;\n        try {\n            generatedContent = JSON.parse(cleanedContent);\n        } catch (parseError) {\n            console.error(\"Error parsing cleaned AI response:\", parseError);\n            console.error(\"Cleaned AI response:\", cleanedContent);\n            return res.status(500).json({\n                message: \"Error parsing AI response\",\n                error: parseError.message\n            });\n        }\n        if (!generatedContent.skillPage || !generatedContent.lessons || generatedContent.lessons.length !== 3) {\n            return res.status(500).json({\n                message: \"Invalid AI response structure\"\n            });\n        }\n        // Save the generated skill to the database with the generated ID\n        await _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.db.collection(\"generatedSkills\").doc(skillId).set({\n            skillPage: generatedContent.skillPage,\n            lessons: generatedContent.lessons\n        });\n        // Return the full skill data including the new ID\n        res.status(200).json({\n            id: skillId,\n            skillPage: generatedContent.skillPage,\n            lessons: generatedContent.lessons\n        });\n    } catch (error) {\n        console.error(\"Error generating skill content:\", error);\n        res.status(500).json({\n            message: \"Error generating skill content\",\n            error: error.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RztRQUVBLElBQUksQ0FBQ3VCLGlCQUFpQkUsU0FBUyxJQUFJLENBQUNGLGlCQUFpQkcsT0FBTyxJQUFJSCxpQkFBaUJHLE9BQU8sQ0FBQ0MsTUFBTSxLQUFLLEdBQUc7WUFDckcsT0FBTy9CLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7WUFBZ0M7UUFDekU7UUFFQSxpRUFBaUU7UUFDakUsTUFBTXhCLG1EQUFFQSxDQUFDK0IsVUFBVSxDQUFDLG1CQUFtQkMsR0FBRyxDQUFDSixTQUFTd0IsR0FBRyxDQUFDO1lBQ3RESCxXQUFXRixpQkFBaUJFLFNBQVM7WUFDckNDLFNBQVNILGlCQUFpQkcsT0FBTztRQUNuQztRQUVBLGtEQUFrRDtRQUNsRDlCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJZLElBQUlQO1lBQ0pxQixXQUFXRixpQkFBaUJFLFNBQVM7WUFDckNDLFNBQVNILGlCQUFpQkcsT0FBTztRQUNuQztJQUNGLEVBQUUsT0FBT2xDLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLG1DQUFtQ0E7UUFDakRJLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFrQ1IsT0FBT0EsTUFBTVEsT0FBTztRQUFDO0lBQ3pGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9hcGkvZ2VuZXJhdGUtc2tpbGwuanM/MGFhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbnRocm9waWMgfSBmcm9tICdAYW50aHJvcGljLWFpL3Nkayc7XHJcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vLi4vbGliL2ZpcmViYXNlLWFkbWluJztcclxuXHJcbmNvbnN0IGFudGhyb3BpYyA9IG5ldyBBbnRocm9waWMoe1xyXG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuQU5USFJPUElDX0FQSV9LRVksXHJcbn0pO1xyXG5cclxuY29uc3QgTUFYX0NPTlRFTlRfTEVOR1RIID0gMTAwMDAwOyAvLyBBZGp1c3QgdGhpcyB2YWx1ZSBhcyBuZWVkZWRcclxuXHJcbmZ1bmN0aW9uIGNsZWFuQW5kVmFsaWRhdGVKU09OKHN0cikge1xyXG4gIC8vIFJlbW92ZSBhbnkgbm9uLXByaW50YWJsZSBjaGFyYWN0ZXJzXHJcbiAgc3RyID0gc3RyLnJlcGxhY2UoL1tcXHgwMC1cXHgxRlxceDdGLVxceDlGXS9nLCBcIlwiKTtcclxuICBcclxuICAvLyBSZW1vdmUgYW55IHRleHQgYmVmb3JlIHRoZSBmaXJzdCAneycgYW5kIGFmdGVyIHRoZSBsYXN0ICd9J1xyXG4gIHN0ciA9IHN0ci5zdWJzdHJpbmcoc3RyLmluZGV4T2YoJ3snKSwgc3RyLmxhc3RJbmRleE9mKCd9JykgKyAxKTtcclxuXHJcbiAgLy8gQXR0ZW1wdCB0byBwYXJzZSBhbmQgc3RyaW5naWZ5IHRvIGVuc3VyZSB2YWxpZCBKU09OXHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHN0cikpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIGNsZWFuZWQgSlNPTjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgc2tpbGxOYW1lLCBkZXNjcmlwdGlvbiB9ID0gcmVxLmJvZHk7XHJcblxyXG4gIGlmICghc2tpbGxOYW1lKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnU2tpbGwgbmFtZSBpcyByZXF1aXJlZCcgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gR2VuZXJhdGUgYSBVUkwtZnJpZW5kbHkgSUQgZnJvbSB0aGUgc2tpbGwgbmFtZVxyXG4gICAgY29uc3Qgc2tpbGxJZCA9IHNraWxsTmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgc2tpbGwgYWxyZWFkeSBleGlzdHNcclxuICAgIGNvbnN0IGV4aXN0aW5nU2tpbGwgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdnZW5lcmF0ZWRTa2lsbHMnKS5kb2Moc2tpbGxJZCkuZ2V0KCk7XHJcbiAgICBpZiAoZXhpc3RpbmdTa2lsbC5leGlzdHMpIHtcclxuICAgICAgLy8gSWYgdGhlIHNraWxsIGV4aXN0cywgcmV0dXJuIHRoZSBleGlzdGluZyBkYXRhXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxyXG4gICAgICAgIGlkOiBza2lsbElkLCBcclxuICAgICAgICAuLi5leGlzdGluZ1NraWxsLmRhdGEoKVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgc2tpbGwgZG9lc24ndCBleGlzdCwgZ2VuZXJhdGUgbmV3IGNvbnRlbnRcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBhbnRocm9waWMubWVzc2FnZXMuY3JlYXRlKHtcclxuICAgICAgbW9kZWw6IFwiY2xhdWRlLTMtaGFpa3UtMjAyNDAzMDdcIixcclxuICAgICAgbWF4X3Rva2VuczogNDAwMCxcclxuICAgICAgdGVtcGVyYXR1cmU6IDAuNyxcclxuICAgICAgbWVzc2FnZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcclxuICAgICAgICAgIGNvbnRlbnQ6IGBHZW5lcmF0ZSBhIGNvbXByZWhlbnNpdmUgc2tpbGwgcGFnZSBvdmVydmlldyBhbmQgMyBsZXNzb25zIGZvciB0aGUgc2tpbGwgXCIke3NraWxsTmFtZX1cIi4gVXNlIHRoaXMgZGVzY3JpcHRpb24gYXMgYSBzdGFydGluZyBwb2ludDogXCIke2Rlc2NyaXB0aW9ufVwiLlxyXG5cclxuVGhlIHJlc3BvbnNlIHNob3VsZCBiZSBhIHZhbGlkIEpTT04gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XHJcblxyXG57XHJcbiAgXCJza2lsbFBhZ2VcIjoge1xyXG4gICAgXCJ0aXRsZVwiOiBcInN0cmluZ1wiLFxyXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcInN0cmluZ1wiLFxyXG4gICAgXCJsZWFybmluZ09iamVjdGl2ZXNcIjogW1wic3RyaW5nXCIsIFwic3RyaW5nXCIsIC4uLl0sXHJcbiAgICBcImltcG9ydGFuY2VcIjogXCJzdHJpbmdcIixcclxuICAgIFwiYXBwbGljYXRpb25zXCI6IFtcInN0cmluZ1wiLCBcInN0cmluZ1wiLCAuLi5dLFxyXG4gICAgXCJwcmVyZXF1aXNpdGVzXCI6IFwic3RyaW5nXCIsXHJcbiAgICBcImVzdGltYXRlZFRpbWVcIjogXCJzdHJpbmdcIlxyXG4gIH0sXHJcbiAgXCJsZXNzb25zXCI6IFtcclxuICAgIHtcclxuICAgICAgXCJ0aXRsZVwiOiBcInN0cmluZ1wiLFxyXG4gICAgICBcImNvbnRlbnRcIjogXCJzdHJpbmcgKEhUTUwgZm9ybWF0KVwiLFxyXG4gICAgICBcImtleVRha2Vhd2F5c1wiOiBbXCJzdHJpbmdcIiwgXCJzdHJpbmdcIiwgLi4uXSxcclxuICAgICAgXCJ0YXNrXCI6IHtcclxuICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwic3RyaW5nXCIsXHJcbiAgICAgICAgXCJzdGVwc1wiOiBbXCJzdHJpbmdcIiwgXCJzdHJpbmdcIiwgLi4uXSxcclxuICAgICAgICBcInRpcHNcIjogW1wic3RyaW5nXCIsIFwic3RyaW5nXCIsIC4uLl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8vIC4uLiAoMiBtb3JlIGxlc3NvbiBvYmplY3RzKVxyXG4gIF1cclxufVxyXG5cclxuRm9yIGVhY2ggbGVzc29uLCBwcm92aWRlIGVuZ2FnaW5nIGNvbnRlbnQgdGhhdCBidWlsZHMgdXBvbiB0aGUgcHJldmlvdXMgbGVzc29ucy4gVGhlIHRhc2sgc2hvdWxkIGJlIHByYWN0aWNhbCBhbmQgaGVscCByZWluZm9yY2UgdGhlIGxlc3NvbidzIGNvbmNlcHRzLiBVc2UgcHJvbXB0IGVuZ2luZWVyaW5nIHRlY2huaXF1ZXMgdG8gbWFrZSB0aGUgbGVzc29ucyBhbmQgdGFza3MgbW9yZSBlZmZlY3RpdmUgZm9yIGxlYXJuaW5nLlxyXG5cclxuRW5zdXJlIHRoYXQgdGhlIHJlc3BvbnNlIGlzIGEgdmFsaWQgSlNPTiBvYmplY3Qgd2l0aG91dCBhbnkgYWRkaXRpb25hbCB0ZXh0IG9yIGZvcm1hdHRpbmcuYFxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHJhd0NvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnRbMF0udGV4dDtcclxuICAgIFxyXG4gICAgLy8gQ2xlYW4gYW5kIHZhbGlkYXRlIHRoZSBKU09OXHJcbiAgICBjb25zdCBjbGVhbmVkQ29udGVudCA9IGNsZWFuQW5kVmFsaWRhdGVKU09OKHJhd0NvbnRlbnQpO1xyXG5cclxuICAgIGlmICghY2xlYW5lZENvbnRlbnQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNsZWFuIGFuZCB2YWxpZGF0ZSBKU09OJyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JhdyBBSSByZXNwb25zZTonLCByYXdDb250ZW50KTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludmFsaWQgQUkgcmVzcG9uc2Ugc3RydWN0dXJlJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZ2VuZXJhdGVkQ29udGVudDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGdlbmVyYXRlZENvbnRlbnQgPSBKU09OLnBhcnNlKGNsZWFuZWRDb250ZW50KTtcclxuICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBjbGVhbmVkIEFJIHJlc3BvbnNlOicsIHBhcnNlRXJyb3IpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDbGVhbmVkIEFJIHJlc3BvbnNlOicsIGNsZWFuZWRDb250ZW50KTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0Vycm9yIHBhcnNpbmcgQUkgcmVzcG9uc2UnLCBlcnJvcjogcGFyc2VFcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghZ2VuZXJhdGVkQ29udGVudC5za2lsbFBhZ2UgfHwgIWdlbmVyYXRlZENvbnRlbnQubGVzc29ucyB8fCBnZW5lcmF0ZWRDb250ZW50Lmxlc3NvbnMubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIEFJIHJlc3BvbnNlIHN0cnVjdHVyZScgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2F2ZSB0aGUgZ2VuZXJhdGVkIHNraWxsIHRvIHRoZSBkYXRhYmFzZSB3aXRoIHRoZSBnZW5lcmF0ZWQgSURcclxuICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2dlbmVyYXRlZFNraWxscycpLmRvYyhza2lsbElkKS5zZXQoe1xyXG4gICAgICBza2lsbFBhZ2U6IGdlbmVyYXRlZENvbnRlbnQuc2tpbGxQYWdlLFxyXG4gICAgICBsZXNzb25zOiBnZW5lcmF0ZWRDb250ZW50Lmxlc3NvbnNcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFJldHVybiB0aGUgZnVsbCBza2lsbCBkYXRhIGluY2x1ZGluZyB0aGUgbmV3IElEXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxyXG4gICAgICBpZDogc2tpbGxJZCwgXHJcbiAgICAgIHNraWxsUGFnZTogZ2VuZXJhdGVkQ29udGVudC5za2lsbFBhZ2UsXHJcbiAgICAgIGxlc3NvbnM6IGdlbmVyYXRlZENvbnRlbnQubGVzc29uc1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgc2tpbGwgY29udGVudDonLCBlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBnZW5lcmF0aW5nIHNraWxsIGNvbnRlbnQnLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiQW50aHJvcGljIiwiZGIiLCJhbnRocm9waWMiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiQU5USFJPUElDX0FQSV9LRVkiLCJNQVhfQ09OVEVOVF9MRU5HVEgiLCJjbGVhbkFuZFZhbGlkYXRlSlNPTiIsInN0ciIsInJlcGxhY2UiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwibGFzdEluZGV4T2YiLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJlcnJvciIsImNvbnNvbGUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJza2lsbE5hbWUiLCJkZXNjcmlwdGlvbiIsImJvZHkiLCJza2lsbElkIiwidG9Mb3dlckNhc2UiLCJleGlzdGluZ1NraWxsIiwiY29sbGVjdGlvbiIsImRvYyIsImdldCIsImV4aXN0cyIsImlkIiwiZGF0YSIsIm1lc3NhZ2VzIiwiY3JlYXRlIiwibW9kZWwiLCJtYXhfdG9rZW5zIiwidGVtcGVyYXR1cmUiLCJyb2xlIiwiY29udGVudCIsInJhd0NvbnRlbnQiLCJ0ZXh0IiwiY2xlYW5lZENvbnRlbnQiLCJnZW5lcmF0ZWRDb250ZW50IiwicGFyc2VFcnJvciIsInNraWxsUGFnZSIsImxlc3NvbnMiLCJsZW5ndGgiLCJzZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/generate-skill.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate-skill&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgenerate-skill.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();